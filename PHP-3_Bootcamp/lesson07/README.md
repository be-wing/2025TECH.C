# README.md

## 練習問題07：MVCモデルによる簡易掲示板の作成

### 1. 目的

本演習では、プログラムを **M (Model)**、**V (View)**、**C (Controller)** の3つの役割に分割して設計する「MVCモデル」を学びます。
コードの保守性（メンテナンスのしやすさ）を高めるための、プロの現場で必須となる設計手法を身につけましょう。

---

### 2. ファイル構成

以下の構成でファイルを作成してください。

lesson07/
├── model.php      (Model: データの読み書き担当)
├── view.php       (View: HTML表示担当)
├── controller.php (Controller: 処理の振り分け担当)
└── data.json      (データの保存先)

* `data.json`：投稿データが保存されるファイル
* `model.php`：**【Model】** データの読み書き、配列の操作を担当
* `view.php`：**【View】** HTMLの出力、表示を担当
* `controller.php`：**【Controller】** ユーザーの操作を受け取り、ModelとViewに指示を出す「司令塔」

---

### 3. 仕様と要件

#### ① 機能要件

* **一覧表示**: 保存されている全ての投稿を表示する。
* **新規投稿**: 名前と内容を入力して保存できる。
* **削除機能**: 各投稿にある削除ボタンから特定の投稿を消去できる。
* **編集機能**: 特定の投稿の内容を更新できる（`prompt` や 別画面など手法は任意）。

#### ② 設計のルール

1. **Model**: `echo` や `print` などの出力処理を一切書かないこと。
2. **View**: `$_POST` や `file_get_contents` などのロジックやデータ操作を直接書かないこと。
3. **Controller**: HTMLタグを書かないこと。Modelからデータを受け取り、Viewへ渡す処理に徹すること。

---

### 4. 実装のヒント

#### Controllerのフロー例

1. `require_once 'model.php'` で機能を読み込む。
2. `$_POST['action']` を確認し、`add` や `delete` などの分岐を作る。
3. Modelの関数を呼び出してデータを操作する。
4. 処理が終わったら一覧表示のために `view.php` を `include` する。

#### Modelの関数例

* `getAllPosts()` : JSONを読み込んで配列で返す。
* `savePosts($posts)` : 配列をJSONに変換して保存する。
* `addPost($name, $content)` : 新しい投稿を配列に追加する。

---

### 5. 提出方法

1. `lesson07` フォルダ内に全てのファイルを配置。
2. ブラウザで `controller.php` にアクセスし、全ての機能が正常に動作することを確認してください。
3. 動作確認後、ソースコードを提出してください。

---

> **講師からのアドバイス**
> 「なぜわざわざファイルを分けるのか？」を考えながら解いてみてください。
> 例えば、「デザインだけ変えたいときに View 以外のファイルを触らなくて済む」というメリットを実感できれば合格です！

---
